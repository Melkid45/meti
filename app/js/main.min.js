function onEntry(t){t.forEach((t=>{t.isIntersecting&&t.target.classList.add("element-show")}))}ScrollTrigger.normalizeScroll(!0),gsap.ticker.lagSmoothing(0),ScrollTrigger.config({limitCallbacks:!0,autoAdjustLag:!0});let options={threshold:[.5]},observer=new IntersectionObserver(onEntry,options),elements=document.querySelectorAll(".element-animation");for(let t of elements)observer.observe(t);if($(window).width()>750){let e=0;window.addEventListener("scroll",(function(){let t=window.pageYOffset||document.documentElement.scrollTop;t>e?document.querySelector(".header").classList.add("back"):document.querySelector(".header").classList.remove("back"),e=t<=0?0:t}))}$(".burger").on("click",(function(t){$(".header__mobile").toggleClass("show"),$(this).find(".current").toggleClass("show")})),$(".header__mobile-menu ul li").on("click",(function(t){$(".header__mobile").removeClass("show"),$(this).find(".current").removeClass("show")}));let width=$(window).width();width<=750?($(".header__body-menu").remove(),$(".about-p1").remove(),$(".difference").text("уровня сетевых"),$(".difference2").text("рекламных"),$(".brand").attr("placeholder","Имя бренда")):($(".burger").remove(),$(".about-p2").remove(),$(".difference").text("уровня"),$(".difference2").text("сетевых рекламных"),$(".header__mobile").remove(),$(".muteor").remove());const canvas=document.getElementById("pixelCanvas"),ctx=canvas.getContext("2d"),img=new Image;img.src="../images/dist/about.webp";const ABOUTCONFIG={animCanvas:-250,StartAnim:"top top",StartAnimPixel:"top top",endAnim:"+=30%"};function initCanvas(){canvas.width=img.width,canvas.height=img.height,renderPixelated(20)}function renderPixelated(t){ctx.imageSmoothingEnabled=!1,ctx.clearRect(0,0,canvas.width,canvas.height);const e=Math.floor(canvas.width/t),i=Math.floor(canvas.height/t);ctx.drawImage(img,0,0,e,i),ctx.drawImage(canvas,0,0,e,i,0,0,canvas.width,canvas.height)}if(width<=750&&(ABOUTCONFIG.animCanvas=-50,ABOUTCONFIG.StartAnim="top center",ABOUTCONFIG.StartAnimPixel="+=10%",ABOUTCONFIG.endAnim="+=30%"),img.onload=function(){initCanvas(),window.addEventListener("resize",initCanvas),gsap.to(canvas,{y:ABOUTCONFIG.animCanvas,scrollTrigger:{trigger:".about",start:ABOUTCONFIG.StartAnim,end:"bottom center",scrub:2,ease:"sine.inOut"}});const t={pixelSize:20};gsap.to(t,{scrollTrigger:{trigger:".about",start:ABOUTCONFIG.StartAnimPixel,end:ABOUTCONFIG.endAnim,scrub:1,ease:"sine.inOut"},pixelSize:1,onUpdate:function(){renderPixelated(t.pixelSize)}})},document.addEventListener("DOMContentLoaded",(()=>{const t={squareSize:40,fillColor:"#000000",initialFillRatio:.3,animationDuration:50,staggerDelay:2};width<=750&&(t.squareSize=20);const e=document.querySelector(".feedback_btn"),i=e.querySelector(".btn_canvas"),o=i.getContext("2d");let n=[],s=!1;function r(){const o=e.offsetWidth,s=e.offsetHeight;i.width=o,i.height=s;const r=t.squareSize*parseFloat(getComputedStyle(document.documentElement).fontSize);const a=Math.ceil(o/r),c=Math.ceil(s/r);n=[];for(let e=0;e<c;e++)for(let i=0;i<a;i++)n.push({x:i*r,y:e*r,width:r,height:r,filled:Math.random()<t.initialFillRatio,initialFilled:!1,progress:0});n.forEach((t=>{t.initialFilled=t.filled})),l()}function l(){o.clearRect(0,0,i.width,i.height),n.forEach((e=>{(e.filled||e.progress>0)&&(o.fillStyle=t.fillColor,o.globalAlpha=e.filled?1:e.progress,o.fillRect(e.x,e.y,e.width,e.height),o.globalAlpha=1)}))}async function a(e,i,o){return new Promise((n=>{setTimeout((()=>{const o=performance.now();requestAnimationFrame((function s(r){const a=r-o,c=Math.min(a/t.animationDuration,1);e.progress=i?c:1-c,l(),c<1?requestAnimationFrame(s):(e.filled=i,e.progress=0,n())}))}),o)}))}r(),e.addEventListener("mouseenter",(async function(){s=!0;const e=[...n].sort((()=>Math.random()-.5));for(let i=0;i<e.length&&s;i++){const o=e[i];o.filled||await a(o,!0,i*t.staggerDelay)}})),e.addEventListener("mouseleave",(async function(){s=!1;const e=[...n].sort((()=>Math.random()-.5));for(let i=0;i<e.length&&!s;i++){const o=e[i];o.filled&&!o.initialFilled&&await a(o,!1,i*t.staggerDelay)}})),window.addEventListener("resize",r)})),width>750?$((function(){var t=new ScrollMagic.Controller,e=new TimelineMax({smoothChildTiming:!0}).fromTo(".item1",1.5,{y:"0%"},{top:"-110%",opacity:1,ease:Power2.easeOut},0).fromTo(".item2",1.5,{y:"0%"},{top:"-110%",opacity:1,ease:Power2.easeOut},.3).fromTo(".item3",1.5,{y:"0%"},{top:"-110%",opacity:1,ease:Power2.easeOut},.6).fromTo(".item4",1.5,{y:"0%"},{top:"-110%",opacity:1,ease:Power2.easeOut},.9).fromTo(".item5",1.5,{y:"0%"},{top:"-110%",opacity:1,ease:Power2.easeOut},1.2).fromTo(".item6",1.5,{y:"0%"},{top:"-110%",opacity:1,ease:Power2.easeOut},1.5);new ScrollMagic.Scene({triggerElement:".case",triggerHook:"onLeave",duration:"700%"}).setPin(".case").setTween(e).addTo(t)})):$((function(){var t=new ScrollMagic.Controller,e=new TimelineMax({smoothChildTiming:!0}).fromTo(".case__soft",1.5,{y:"105%"},{y:"-450%",opacity:1,ease:Power2.easeOut},0);new ScrollMagic.Scene({triggerElement:".case",triggerHook:"onLeave",duration:"700%"}).setPin(".case").setTween(e).addTo(t)})),width>750){gsap.set(".cursor",{xPercent:-50,yPercent:-50}),$(document).mousemove((function(t){gsap.to(".cursor",{x:t.clientX,y:t.clientY,duration:.1,ease:"power1.out"})})),$(document).on("mouseenter","a",(function(){console.log($(this).attr("href"));let t=$(this).attr("href");$(".default_text").fadeIn(200),t.includes("tel")?($(".default_text").text("Позвонить"),$(".cursor .phone").css({scale:"1"}),$(".cursor svg").not(".cursor .arrow").css({scale:0})):t.includes("mail")?($(".cursor .mail").css({scale:"1"}),$(".cursor svg").not(".cursor .arrow").css({scale:0}),$(".default_text").text("Написать")):($(".default_text").text("Клик"),$(".cursor .arrow").css({scale:"1"}),$(".cursor svg").not(".cursor .arrow").css({scale:0}))})).on("mouseleave","a",(function(){$(".cursor svg").css({scale:"0"}),$(".default_text").fadeOut(200)})),$(document).on({mouseleave:function(){$(".cursor svg").css("scale","0"),$(".default_text").fadeOut(200)},mousemove:function(){updateVideoCursor()},click:function(t){t.preventDefault(),toggleVideoPlayback()}},".showreel");const i=document.querySelector(".showreel__video");function toggleVideoPlayback(){i&&(i.paused||i.ended?i.play().catch((t=>console.error("Video play error:",t))):i.pause(),updateVideoCursor())}function updateVideoCursor(){if(!i)return;const t=!i.paused&&!i.ended,e=$(".cursor");e.find(".pause").css("scale",t?"1":"0"),e.find(".play").css("scale",t?"0":"1"),$(".default_text").fadeIn(200),$(".default_text").text(t?"Пауза":"воспроизвести")}}$(".muteor").on("click",(function(t){const e=document.querySelector(".showreel__video");e.muted?(e.muted=!1,$(".mute").fadeIn(300),$(".sound").fadeOut(300)):(e.muted=!0,$(".mute").fadeOut(300),$(".sound").fadeIn(300))}));class SectionGrid{constructor(t){this.section=t,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.cellPool=[],this.mouse={x:-1e3,y:-1e3},this.rafId=null,this.isActive=!0,this.sectionTop=0,this.settings={baseSize:54,sizeVariation:0,spacing:0,activationRadius:120,fadeSpeed:.01,maxRotation:0,rotationSpeed:0,borderColor:{r:244,g:244,b:244,a:.24},fillColor:{r:0,g:0,b:0,a:0},borderWidth:1,offsetX:0,offsetY:0},t.classList.contains("services")&&(this.settings.offsetX=-1,this.settings.offsetY=-25),t.classList.contains("client")&&(this.settings.offsetX=0,this.settings.offsetY=11),t.classList.contains("main")&&(this.settings.offsetX=27,this.settings.offsetY=-27),t.classList.contains("feedback")&&(this.settings.offsetX=27,this.settings.offsetY=-24),this.init()}remToPx(t){return t*(window.innerWidth/1920)}init(){this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0",this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.pointerEvents="none",this.canvas.style.zIndex="1",this.canvas.style.imageRendering="pixelated",this.section.style.position="relative",this.section.appendChild(this.canvas),this.updateSectionPosition(),this.resize(),this.initPool(),this.startAnimation()}updateSectionPosition(){this.rect=this.section.getBoundingClientRect(),this.sectionTop=this.rect.top+window.scrollY}resize(){this.rect=this.section.getBoundingClientRect();const t=window.devicePixelRatio||1;this.canvas.style.width=this.rect.width+"px",this.canvas.style.height=this.rect.height+"px",this.canvas.width=this.rect.width*t,this.canvas.height=this.rect.height*t,this.ctx.scale(t,t);const e=this.remToPx(this.settings.baseSize);this.remToPx(this.settings.spacing);this.gridCols=Math.ceil(this.rect.width/e),this.gridRows=Math.ceil(this.rect.height/e)}initPool(){this.cellPool=[];const t=this.remToPx(this.settings.baseSize),e=this.remToPx(this.settings.offsetX),i=this.remToPx(this.settings.offsetY),o=(this.rect.width-this.gridCols*t)/2+e,n=(this.rect.height-this.gridRows*t)/2+i;for(let e=0;e<this.gridRows;e++)for(let i=0;i<this.gridCols;i++)this.cellPool.push({x:o+i*t,y:n+e*t,width:t,height:t,rotation:0,targetRotation:0,alpha:0,active:!1,lastActiveTime:0,borderWidth:Math.floor(this.remToPx(this.settings.borderWidth))})}updateMousePosition(t,e){const i=this.section.getBoundingClientRect();this.mouse.x=t-i.left,this.mouse.y=e-i.top}updateCells(){const t=this.remToPx(this.settings.activationRadius),e=t*t,i=performance.now();for(let t of this.cellPool){const o=this.mouse.x-(t.x+t.width/2),n=this.mouse.y-(t.y+t.height/2),s=o*o+n*n;s<e?(t.active=!0,t.lastActiveTime=i,t.targetRotation=Math.atan2(n,o)+Math.PI/2,t.alpha=Math.min(1,1-s/e)):(t.active&&i-t.lastActiveTime>300&&(t.active=!1),t.alpha=Math.max(0,t.alpha-this.settings.fadeSpeed),t.targetRotation=0),t.rotation+=(t.targetRotation-t.rotation)*this.settings.rotationSpeed}}draw(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.imageSmoothingEnabled=!1,this.ctx.fillStyle=`rgba(${this.settings.fillColor.r}, ${this.settings.fillColor.g}, ${this.settings.fillColor.b}, ${this.settings.fillColor.a})`,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height);for(let t of this.cellPool){if(t.alpha<=0)continue;const e=Math.floor(t.x),i=Math.floor(t.y),o=t.width;this.ctx.save(),this.ctx.translate(e+o/2,i+o/2),this.ctx.rotate(t.rotation),this.ctx.fillStyle=`rgba(\n        ${this.settings.fillColor.r}, \n        ${this.settings.fillColor.g}, \n        ${this.settings.fillColor.b}, \n        ${this.settings.fillColor.a*t.alpha}\n      )`,this.ctx.fillRect(-o/2,-o/2,o,o),this.ctx.strokeStyle=`rgba(\n        ${this.settings.borderColor.r}, \n        ${this.settings.borderColor.g}, \n        ${this.settings.borderColor.b}, \n        ${this.settings.borderColor.a*t.alpha}\n      )`,this.ctx.lineWidth=t.borderWidth,this.ctx.strokeRect(-o/2,-o/2,o,o),this.ctx.restore()}}startAnimation(){this.rafId||this.animate()}animate(){this.updateCells(),this.draw(),this.rafId=requestAnimationFrame((()=>this.animate()))}}class GridSystem{constructor(){this.sectionGrids=[],this.mouse={x:-1e3,y:-1e3},this.scrollY=window.scrollY,this.lastScrollY=window.scrollY,this.init()}init(){document.querySelectorAll('[data-grid="true"]').forEach((t=>{this.sectionGrids.push(new SectionGrid(t))})),document.addEventListener("mousemove",(t=>{this.mouse.x=t.clientX,this.mouse.y=t.clientY,this.sectionGrids.forEach((e=>{const i=e.section.getBoundingClientRect();i.top<window.innerHeight&&i.bottom>0&&e.updateMousePosition(t.clientX,t.clientY)}))})),document.addEventListener("mouseout",(()=>{this.mouse.x=-1e3,this.mouse.y=-1e3})),window.addEventListener("scroll",(()=>{this.lastScrollY=this.scrollY,this.scrollY=window.scrollY,this.sectionGrids.forEach((t=>{t.updateSectionPosition()}))}),{passive:!0}),window.addEventListener("resize",(()=>{this.sectionGrids.forEach((t=>{t.resize(),t.updateSectionPosition()}))}))}}width>750&&document.addEventListener("DOMContentLoaded",(()=>{new GridSystem})),document.addEventListener("DOMContentLoaded",(()=>{const t={squareSize:54,gap:0,fillColor:"#442CBF",bgColor:"#000000",animationDuration:1e3,widthView:1920};function e(e){return e*(window.innerWidth/t.widthView)}width<=750&&(t.widthView=375,t.squareSize=20);const i=document.getElementById("feedback-grid-canvas"),o=i.getContext("2d");let n=[],s=[],r=0;function l(){const l=document.querySelector(".feedback__top"),c=l.clientWidth,h=l.clientHeight,d=window.devicePixelRatio||1;i.style.width=c+"px",i.style.height=h+"px",i.width=Math.floor(c*d),i.height=Math.floor(h*d),o.scale(d,d);const u=Math.floor(e(t.squareSize)),f=Math.floor(e(t.gap)),p=Math.ceil(c/(u+f))+1,m=Math.ceil(h/(u+f))+1,g=p*(u+f),y=m*(u+f),v=Math.floor((c-g)/2),w=Math.floor((h-y)/2);n=[];for(let t=-1;t<m;t++)for(let e=-1;e<p;e++)n.push({x:e*(u+f)+v,y:t*(u+f)+w,width:u,height:u,filled:!1});s=[...Array(n.length).keys()],function(t){for(let e=t.length-1;e>0;e--){const i=Math.floor(Math.random()*(e+1));[t[e],t[i]]=[t[i],t[e]]}}(s),r=0,a()}function a(){o.clearRect(0,0,i.width,i.height),o.imageSmoothingEnabled=!1,o.fillStyle=t.bgColor,o.fillRect(0,0,i.width,i.height),n.forEach((e=>{const i=Math.floor(e.x),n=Math.floor(e.y),s=Math.floor(e.width);o.fillStyle=e.filled?t.fillColor:t.bgColor,o.fillRect(i,n,s,s)}))}const c=new ScrollMagic.Controller;let h;new ScrollMagic.Scene({triggerElement:".feedback",duration:t.animationDuration,triggerHook:1}).on("progress",(t=>{!function(t){if(t<r)for(let e=r-1;e>=t;e--)e>=0&&e<s.length&&(n[s[e]].filled=!1);else for(let e=r;e<t;e++)e>=0&&e<s.length&&(n[s[e]].filled=!0);r=t,a()}(Math.floor(t.progress*n.length))})).addTo(c),l(),window.addEventListener("resize",(()=>{clearTimeout(h),h=setTimeout((()=>{l(),c.update()}),100)}))})),document.addEventListener("DOMContentLoaded",(()=>{const t={squareSize:54,gap:0,fillColor:"#000000",bgColor:"#F4F4F403",animationDuration:2e3,widthView:1920};function e(e){return e*(window.innerWidth/t.widthView)}width<=750&&(t.widthView=375,t.squareSize=20);const i=document.getElementById("grid-canvas-begin"),o=i.getContext("2d");let n=[],s=[],r=0;function l(){const l=document.querySelector(".main"),c=l.clientWidth,h=l.clientHeight,d=window.devicePixelRatio||1;i.style.width=c+"px",i.style.height=h+"px",i.width=Math.floor(c*d),i.height=Math.floor(h*d),o.scale(d,d);const u=Math.floor(e(t.squareSize)),f=Math.floor(e(t.gap)),p=Math.ceil(c/(u+f))+1,m=Math.ceil(h/(u+f))+1,g=p*(u+f),y=m*(u+f),v=Math.floor((c-g)/2),w=Math.floor((h-y)/2);n=[];for(let t=-1;t<m;t++)for(let e=-1;e<p;e++)n.push({x:e*(u+f)+v,y:t*(u+f)+w,width:u,height:u,filled:!1});s=[...Array(n.length).keys()],function(t){for(let e=t.length-1;e>0;e--){const i=Math.floor(Math.random()*(e+1));[t[e],t[i]]=[t[i],t[e]]}}(s),r=0,a()}function a(){o.clearRect(0,0,i.width,i.height),o.imageSmoothingEnabled=!1,o.fillStyle=t.bgColor,o.fillRect(0,0,i.width,i.height),n.forEach((e=>{const i=Math.floor(e.x),n=Math.floor(e.y),s=Math.floor(e.width);o.fillStyle=e.filled?t.fillColor:t.bgColor,o.fillRect(i,n,s,s)}))}const c=new ScrollMagic.Controller;let h;new ScrollMagic.Scene({triggerElement:".main",duration:t.animationDuration,triggerHook:0}).setPin(".main").on("progress",(t=>{!function(t){if(t<r)for(let e=r-1;e>=t;e--)e>=0&&e<s.length&&(n[s[e]].filled=!1);else for(let e=r;e<t;e++)e>=0&&e<s.length&&(n[s[e]].filled=!0);r=t,a()}(Math.floor(t.progress*n.length))})).addTo(c),l(),window.addEventListener("resize",(()=>{clearTimeout(h),h=setTimeout((()=>{l(),c.update()}),100)}))})),document.addEventListener("DOMContentLoaded",(()=>{const t={squareSize:54,fillColor:"#442CBF",bgColor:"#000000",animationDelay:500,fillDuration:1500,fadeDuration:2500,logoMoveDuration:1e3,targetLogoPosition:{x:40,y:53},sizeLogo:{width:200,height:50}};width<=750&&(t.squareSize=20,t.targetLogoPosition.x=20,t.targetLogoPosition.y=20,t.sizeLogo.width=120,t.sizeLogo.height=30);const e=document.querySelector(".preload-container"),i=document.querySelector(".preload-canvas"),o=i.getContext("2d"),n=e.querySelector("img"),s=document.querySelector("#js-cursor-progress span"),r=(document.body,document.querySelector(".header__body-logo"));let l,a,c=[],h={x:0,y:0};function d(){i.width=window.innerWidth,i.height=window.innerHeight;const e=Math.ceil(i.width/t.squareSize)+1,o=Math.ceil(i.height/t.squareSize)+1;c=[];for(let i=-1;i<o;i++)for(let o=-1;o<e;o++)c.push({x:o*t.squareSize,y:i*t.squareSize,width:t.squareSize,height:t.squareSize,state:"black",alpha:1});f(),u()}function u(){for(let t=c.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[c[t],c[e]]=[c[e],c[t]]}}function f(){o.clearRect(0,0,i.width,i.height),c.forEach((e=>{"black"===e.state?(o.fillStyle=t.bgColor,o.globalAlpha=e.alpha,o.fillRect(e.x,e.y,e.width,e.height)):"color"===e.state&&(o.fillStyle=t.fillColor,o.globalAlpha=e.alpha,o.fillRect(e.x,e.y,e.width,e.height))})),o.globalAlpha=1}function p(e){a||(a=e);const i=e-a,o=Math.min(i/t.fillDuration,1),n=Math.floor(o*c.length);for(let t=0;t<n;t++)t<c.length&&(c[t].state="color");const r=Math.floor(99*o);s.textContent=`${r.toString().padStart(2,"0")}%`,f(),o<1?l=requestAnimationFrame(p):(a=null,u(),l=requestAnimationFrame(m))}function m(o){a||(a=o),i.style.background="transparent";const d=o-a,u=Math.min(d/t.fadeDuration,1),p=Math.min(d/t.logoMoveDuration,1),g=(y=p,1-Math.pow(1-y,3));var y;const v=h.x+(t.targetLogoPosition.x-h.x)*g,w=h.y+(t.targetLogoPosition.y-h.y)*g;n.style.left=`${v}rem`,n.style.top=`${w}rem`,n.style.width=`${t.sizeLogo.width}rem`,n.style.height=`${t.sizeLogo.height}rem`,setTimeout((()=>{r.style.opacity="1"}),2e3),setTimeout((()=>{$(".main__body .stroke div p").each((function(){$(this).shuffleLetters({step:5,fps:120,text:$(this).text()})}))}),500),setTimeout((()=>{$(".main__body .stroke div").addClass("anim_stroke")}),3500);const b=Math.floor(u*c.length);for(let t=0;t<b;t++)t<c.length&&(c[t].state="transparent",c[t].alpha=1-u);s.parentElement&&(s.parentElement.style.opacity=1-u),f(),u<1?l=requestAnimationFrame(m):(n.style.left=`${t.targetLogoPosition.x}rem`,n.style.top=`${t.targetLogoPosition.y}rem`,e.style.transition="opacity 0.5s ease",e.style.opacity="0",setTimeout((()=>{e.remove()}),500))}d(),function(){const e=(window.innerWidth-n.offsetWidth)/2,i=(window.innerHeight-n.offsetHeight)/2;h={x:e/parseFloat(getComputedStyle(document.documentElement).fontSize),y:i/parseFloat(getComputedStyle(document.documentElement).fontSize)},setTimeout((()=>{a=null,l=requestAnimationFrame(p)}),t.animationDelay)}(),window.addEventListener("resize",(()=>{cancelAnimationFrame(l),d(),f()}))})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).LocomotiveScroll=e()}(this,(function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=l(t);if(e){var n=l(this).constructor;i=Reflect.construct(o,arguments,n)}else i=o.apply(this,arguments);return function(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?c(t):e}(this,i)}}function d(t,e,i){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(o){var n=Object.getOwnPropertyDescriptor(o,e);return n.get?n.get.call(i):n.value}})(t,e,i||t)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],o=!0,n=!1,s=void 0;try{for(var r,l=t[Symbol.iterator]();!(o=(r=l.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(t){n=!0,s=t}finally{try{o||null==l.return||l.return()}finally{if(n)throw s}}return i}}(t,e)||p(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){if(t){if("string"==typeof t)return m(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var g={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},y=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),Object.assign(this,g,i),this.smartphone=g.smartphone,i.smartphone&&Object.assign(this.smartphone,i.smartphone),this.tablet=g.tablet,i.tablet&&Object.assign(this.tablet,i.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",this.isMobile&&(this.direction=this[this.context].direction),"horizontal"===this.direction?this.directionAxis="x":this.directionAxis="y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return i(e,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame((function(){t.resize(),t.resizeTick=!1})))}},{key:"resize",value:function(){}},{key:"checkContext",value:function(){if(this.reloadOnContextChange){this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;var t=this.context;this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",t!=this.context&&("desktop"==t?this.smooth:this[t].smooth)!=("desktop"==this.context?this.smooth:this[this.context].smooth)&&window.location.reload()}}},{key:"initEvents",value:function(){var t=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach((function(e){e.addEventListener("click",t.setScrollTo,!1)}))}},{key:"setScrollTo",value:function(t){t.preventDefault(),this.scrollTo(t.currentTarget.getAttribute("data-".concat(this.name,"-href"))||t.currentTarget.getAttribute("href"),{offset:t.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(t){var e=this,i=this.instance.scroll.y,o=i+this.windowHeight,n=this.instance.scroll.x,s=n+this.windowWidth;Object.entries(this.els).forEach((function(r){var l=u(r,2),a=l[0],c=l[1];if(!c||c.inView&&!t||("horizontal"===e.direction?s>=c.left&&n<c.right&&e.setInView(c,a):o>=c.top&&i<c.bottom&&e.setInView(c,a)),c&&c.inView)if("horizontal"===e.direction){var h=c.right-c.left;c.progress=(e.instance.scroll.x-(c.left-e.windowWidth))/(h+e.windowWidth),(s<c.left||n>c.right)&&e.setOutOfView(c,a)}else{var d=c.bottom-c.top;c.progress=(e.instance.scroll.y-(c.top-e.windowHeight))/(d+e.windowHeight),(o<c.top||i>c.bottom)&&e.setOutOfView(c,a)}})),this.hasScrollTicking=!1}},{key:"setInView",value:function(t,e){this.els[e].inView=!0,t.el.classList.add(t.class),this.currentElements[e]=t,t.call&&this.hasCallEventSet&&(this.dispatchCall(t,"enter"),t.repeat||(this.els[e].call=!1))}},{key:"setOutOfView",value:function(t,e){var i=this;this.els[e].inView=!1,Object.keys(this.currentElements).forEach((function(t){t===e&&delete i.currentElements[t]})),t.call&&this.hasCallEventSet&&this.dispatchCall(t,"exit"),t.repeat&&t.el.classList.remove(t.class)}},{key:"dispatchCall",value:function(t,e){this.callWay=e,this.callValue=t.call.split(",").map((function(t){return t.trim()})),this.callObj=t,1==this.callValue.length&&(this.callValue=this.callValue[0]);var i=new Event(this.namespace+"call");this.el.dispatchEvent(i)}},{key:"dispatchScroll",value:function(){var t=new Event(this.namespace+"scroll");this.el.dispatchEvent(t)}},{key:"setEvents",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]);var i=this.listeners[t];i.push(e),1===i.length&&this.el.addEventListener(this.namespace+t,this.checkEvent,!1),"call"===t&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(t,e){if(this.listeners[t]){var i=this.listeners[t],o=i.indexOf(e);o<0||(i.splice(o,1),0===i.index&&this.el.removeEventListener(this.namespace+t,this.checkEvent,!1))}}},{key:"checkEvent",value:function(t){var e=this,i=t.type.replace(this.namespace,""),o=this.listeners[i];o&&0!==o.length&&o.forEach((function(t){switch(i){case"scroll":return t(e.instance);case"call":return t(e.callValue,e.callWay,e.callObj);default:return t()}}))}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(t,e){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var t=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach((function(e){t.el.removeEventListener(t.namespace+e,t.checkEvent,!1)})),this.listeners={},this.scrollToEls.forEach((function(e){e.removeEventListener("click",t.setScrollTo,!1)})),this.html.classList.remove(this.initClass)}}]),e}(),v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function w(t,e){return t(e={exports:{}},e.exports),e.exports}var b=w((function(t,e){t.exports={polyfill:function(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style)||!0===t.__forceSmoothScrollPolyfill__){var i,o=t.HTMLElement||t.Element,n={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:o.prototype.scroll||l,scrollIntoView:o.prototype.scrollIntoView},s=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,r=(i=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(i)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==a(arguments[0])?f.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):n.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(a(arguments[0])?n.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):f.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},o.prototype.scroll=o.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==a(arguments[0])){var t=arguments[0].left,e=arguments[0].top;f.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");n.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},o.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==a(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):n.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},o.prototype.scrollIntoView=function(){if(!0!==a(arguments[0])){var i=function(t){for(;t!==e.body&&!1===d(t);)t=t.parentNode||t.host;return t}(this),o=i.getBoundingClientRect(),s=this.getBoundingClientRect();i!==e.body?(f.call(this,i,i.scrollLeft+s.left-o.left,i.scrollTop+s.top-o.top),"fixed"!==t.getComputedStyle(i).position&&t.scrollBy({left:o.left,top:o.top,behavior:"smooth"})):t.scrollBy({left:s.left,top:s.top,behavior:"smooth"})}else n.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function l(t,e){this.scrollLeft=t,this.scrollTop=e}function a(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(t,e){return"Y"===e?t.clientHeight+r<t.scrollHeight:"X"===e?t.clientWidth+r<t.scrollWidth:void 0}function h(e,i){var o=t.getComputedStyle(e,null)["overflow"+i];return"auto"===o||"scroll"===o}function d(t){var e=c(t,"Y")&&h(t,"Y"),i=c(t,"X")&&h(t,"X");return e||i}function u(e){var i,o,n,r,l=(s()-e.startTime)/468;r=l=l>1?1:l,i=.5*(1-Math.cos(Math.PI*r)),o=e.startX+(e.x-e.startX)*i,n=e.startY+(e.y-e.startY)*i,e.method.call(e.scrollable,o,n),o===e.x&&n===e.y||t.requestAnimationFrame(u.bind(t,e))}function f(i,o,r){var a,c,h,d,f=s();i===e.body?(a=t,c=t.scrollX||t.pageXOffset,h=t.scrollY||t.pageYOffset,d=n.scroll):(a=i,c=i.scrollLeft,h=i.scrollTop,d=l),u({scrollable:a,method:d,startTime:f,startX:c,startY:h,x:o,y:r})}}}})),x=(b.polyfill,function(e){r(n,e);var o=h(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,n),(e=o.call(this,i)).resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",e.checkScroll,!1),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=b,window.smoothscrollPolyfill.polyfill()),e}return i(n,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),d(l(n.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var t=this;d(l(n.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame((function(){t.detectElements()})),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){window.pageYOffset!=this.instance.scroll.y?this.instance.speed=(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"resize",value:function(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var t=this;this.els={},this.el.querySelectorAll("[data-"+this.name+"]").forEach((function(e,i){e.getBoundingClientRect();var o,n,s,r=e.dataset[t.name+"Class"]||t.class,l="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:i,a="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,c=e.dataset[t.name+"Repeat"],h=e.dataset[t.name+"Call"],d=e.dataset[t.name+"Target"],u=(s=void 0!==d?document.querySelector("".concat(d)):e).getBoundingClientRect();o=u.top+t.instance.scroll.y,n=u.left+t.instance.scroll.x;var f=o+s.offsetHeight,p=n+s.offsetWidth;c="false"!=c&&(null!=c||t.repeat);var m=t.getRelativeOffset(a),g={el:e,targetEl:s,id:l,class:r,top:o+=m[0],bottom:f-=m[1],left:n,right:p,offset:a,progress:0,repeat:c,inView:!1,call:h};t.els[l]=g,e.classList.contains(r)&&t.setInView(t.els[l],l)}))}},{key:"updateElements",value:function(){var t=this;Object.entries(this.els).forEach((function(e){var i=u(e,2),o=i[0],n=i[1],s=n.targetEl.getBoundingClientRect().top+t.instance.scroll.y,r=s+n.targetEl.offsetHeight,l=t.getRelativeOffset(n.offset);t.els[o].top=s+l[0],t.els[o].bottom=r-l[1]})),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(t){var e=[0,0];if(t)for(var i=0;i<t.length;i++)"string"==typeof t[i]?t[i].includes("%")?e[i]=parseInt(t[i].replace("%","")*this.windowHeight/100):e[i]=parseInt(t[i]):e[i]=t[i];return e}},{key:"scrollTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=parseInt(e.offset)||0,o=!!e.callback&&e.callback;if("string"==typeof t){if("top"===t)t=this.html;else if("bottom"===t)t=this.html.offsetHeight-window.innerHeight;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");i="number"!=typeof t?t.getBoundingClientRect().top+i+this.instance.scroll.y:t+i;var n=function(){return parseInt(window.pageYOffset)===parseInt(i)};if(o){if(n())return void o();window.addEventListener("scroll",(function t(){n()&&(window.removeEventListener("scroll",t),o())}))}window.scrollTo({top:i,behavior:0===e.duration?"auto":"smooth"})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){d(l(n.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),n}(y)),S=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var T=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(t){o[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,o,n=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),s=1;s<arguments.length;s++){for(var r in i=Object(arguments[s]))k.call(i,r)&&(n[r]=i[r]);if(S){o=S(i);for(var l=0;l<o.length;l++)E.call(i,o[l])&&(n[o[l]]=i[o[l]])}}return n};function C(){}C.prototype={on:function(t,e,i){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var o=this;function n(){o.off(t,n),e.apply(i,arguments)}return n._=e,this.on(t,n,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),o=0,n=i.length;o<n;o++)i[o].fn.apply(i[o].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),o=i[t],n=[];if(o&&e)for(var s=0,r=o.length;s<r;s++)o[s].fn!==e&&o[s].fn._!==e&&n.push(o[s]);return n.length?i[t]=n:delete i[t],this}};var A=C,M=w((function(t,e){(function(){(null!==e?e:this).Lethargy=function(){function t(t,e,i,o){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=i?1+Math.abs(i):1.1,this.delay=null!=o?o:150,this.lastUpDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.lastDownDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.deltasTimestamp=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this)}return t.prototype.check=function(t){var e;return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,i,o,n,s,r,l;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(o=e.slice(0,this.stability),i=e.slice(this.stability,2*this.stability),l=o.reduce((function(t,e){return t+e})),s=i.reduce((function(t,e){return t+e})),r=l/o.length,n=s/i.length,Math.abs(r)<Math.abs(n*this.tolerance)&&this.sensitivity<Math.abs(n)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(v)})),O="onwheel"in document,L="onmousewheel"in document,D="ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,_=navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,P=!!window.navigator.msPointerEnabled,R="onkeydown"in document,B=navigator.userAgent.indexOf("Firefox")>-1,z=Object.prototype.toString,$=Object.prototype.hasOwnProperty;function j(t,e){return function(){return t.apply(e,arguments)}}var I=M.Lethargy,H="virtualscroll",W=Y;function Y(t){!function(t){if(!t)return console.warn("bindAll requires at least one argument.");var e=Array.prototype.slice.call(arguments,1);if(0===e.length)for(var i in t)$.call(t,i)&&"function"==typeof t[i]&&"[object Function]"==z.call(t[i])&&e.push(i);for(var o=0;o<e.length;o++){var n=e[o];t[n]=j(t[n],t)}}(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,t&&t.el&&(this.el=t.el,delete t.el),this.options=T({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},t),this.options.limitInertia&&(this._lethargy=new I),this._emitter=new A,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function q(t,e,i){return(1-i)*t+i*e}function F(t){var e={};if(window.getComputedStyle){var i=getComputedStyle(t),o=i.transform||i.webkitTransform||i.mozTransform,n=o.match(/^matrix3d\((.+)\)$/);return n?(e.x=n?parseFloat(n[1].split(", ")[12]):0,e.y=n?parseFloat(n[1].split(", ")[13]):0):(n=o.match(/^matrix\((.+)\)$/),e.x=n?parseFloat(n[1].split(", ")[4]):0,e.y=n?parseFloat(n[1].split(", ")[5]):0),e}}function X(t){for(var e=[];t&&t!==document;t=t.parentNode)e.push(t);return e}Y.prototype._notify=function(t){var e=this._event;e.x+=e.deltaX,e.y+=e.deltaY,this._emitter.emit(H,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},Y.prototype._onWheel=function(t){var e=this.options;if(!this._lethargy||!1!==this._lethargy.check(t)){var i=this._event;i.deltaX=t.wheelDeltaX||-1*t.deltaX,i.deltaY=t.wheelDeltaY||-1*t.deltaY,B&&1==t.deltaMode&&(i.deltaX*=e.firefoxMultiplier,i.deltaY*=e.firefoxMultiplier),i.deltaX*=e.mouseMultiplier,i.deltaY*=e.mouseMultiplier,this._notify(t)}},Y.prototype._onMouseWheel=function(t){if(!this.options.limitInertia||!1!==this._lethargy.check(t)){var e=this._event;e.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,e.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,this._notify(t)}},Y.prototype._onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t;this.touchStartX=e.pageX,this.touchStartY=e.pageY},Y.prototype._onTouchMove=function(t){var e=this.options;e.preventTouch&&!t.target.classList.contains(e.unpreventTouchClass)&&t.preventDefault();var i=this._event,o=t.targetTouches?t.targetTouches[0]:t;i.deltaX=(o.pageX-this.touchStartX)*e.touchMultiplier,i.deltaY=(o.pageY-this.touchStartY)*e.touchMultiplier,this.touchStartX=o.pageX,this.touchStartY=o.pageY,this._notify(t)},Y.prototype._onKeyDown=function(t){var e=this._event;e.deltaX=e.deltaY=0;var i=window.innerHeight-40;switch(t.keyCode){case 37:case 38:e.deltaY=this.options.keyStep;break;case 39:case 40:e.deltaY=-this.options.keyStep;break;case t.shiftKey:e.deltaY=i;break;case 32:e.deltaY=-i;break;default:return}this._notify(t)},Y.prototype._bind=function(){O&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),L&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),D&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),P&&_&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),R&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},Y.prototype._unbind=function(){O&&this.el.removeEventListener("wheel",this._onWheel),L&&this.el.removeEventListener("mousewheel",this._onMouseWheel),D&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),P&&_&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),R&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},Y.prototype.on=function(t,e){this._emitter.on(H,t,e);var i=this._emitter.e;i&&i[H]&&1===i[H].length&&this._bind()},Y.prototype.off=function(t,e){this._emitter.off(H,t,e);var i=this._emitter.e;(!i[H]||i[H].length<=0)&&this._unbind()},Y.prototype.reset=function(){var t=this._event;t.x=0,t.y=0},Y.prototype.destroy=function(){this._emitter.off(),this._unbind()};var V="function"==typeof Float32Array;function N(t,e){return 1-3*e+3*t}function G(t,e){return 3*e-6*t}function U(t){return 3*t}function K(t,e,i){return((N(e,i)*t+G(e,i))*t+U(e))*t}function Q(t,e,i){return 3*N(e,i)*t*t+2*G(e,i)*t+U(e)}function Z(t){return t}var J=function(t,e,i,o){if(!(0<=t&&t<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&i===o)return Z;for(var n=V?new Float32Array(11):new Array(11),s=0;s<11;++s)n[s]=K(.1*s,t,i);function r(e){for(var o=0,s=1;10!==s&&n[s]<=e;++s)o+=.1;--s;var r=o+(e-n[s])/(n[s+1]-n[s])*.1,l=Q(r,t,i);return l>=.001?function(t,e,i,o){for(var n=0;n<4;++n){var s=Q(e,i,o);if(0===s)return e;e-=(K(e,i,o)-t)/s}return e}(e,r,t,i):0===l?r:function(t,e,i,o,n){var s,r,l=0;do{(s=K(r=e+(i-e)/2,o,n)-t)>0?i=r:e=r}while(Math.abs(s)>1e-7&&++l<10);return r}(e,o,o+.1,t,i)}return function(t){return 0===t?0:1===t?1:K(r(t),e,o)}},tt=function(e){r(n,e);var o=h(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,n),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),(e=o.call(this,i)).inertia&&(e.lerp=.1*e.inertia),e.isScrolling=!1,e.isDraggingScrollbar=!1,e.isTicking=!1,e.hasScrollTicking=!1,e.parallaxElements={},e.stop=!1,e.scrollbarContainer=i.scrollbarContainer,e.checkKey=e.checkKey.bind(c(e)),window.addEventListener("keydown",e.checkKey,!1),e}return i(n,[{key:"init",value:function(){var t=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=s({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance),this.vs=new W({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on((function(e){t.stop||t.isDraggingScrollbar||requestAnimationFrame((function(){t.updateDelta(e),t.isScrolling||t.startScrolling()}))})),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),d(l(n.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,"horizontal"===this.direction){for(var t=0,e=this.el.children,i=0;i<e.length;i++)t+=e[i].offsetWidth;this.instance.limit.x=t-this.windowWidth}}},{key:"startScrolling",value:function(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){cancelAnimationFrame(this.checkScrollRaf),this.startScrollTs=void 0,this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(t){var e=this;if(this.stop)9==t.keyCode&&requestAnimationFrame((function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0}));else{switch(t.keyCode){case 9:requestAnimationFrame((function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0,e.scrollTo(document.activeElement,{offset:-window.innerHeight/2})}));break;case 38:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]-=240);break;case 40:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]+=240);break;case 33:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case 34:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case 36:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case 35:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case 32:this.isActiveElementScrollSensitive()&&(t.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"isActiveElementScrollSensitive",value:function(){return!(document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||document.activeElement instanceof HTMLButtonElement||document.activeElement instanceof HTMLSelectElement)}},{key:"checkScroll",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame((function(){return t.checkScroll()})),this.hasScrollTicking=!0),this.updateScroll();var i=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),o=Date.now()-this.startScrollTs;if(!this.animatingScroll&&o>100&&(i<.5&&0!=this.instance.delta[this.directionAxis]||i<.5&&0==this.instance.delta[this.directionAxis])&&this.stopScrolling(),Object.entries(this.sections).forEach((function(i){var o=u(i,2),n=(o[0],o[1]);n.persistent||t.instance.scroll[t.directionAxis]>n.offset[t.directionAxis]&&t.instance.scroll[t.directionAxis]<n.limit[t.directionAxis]?("horizontal"===t.direction?t.transform(n.el,-t.instance.scroll[t.directionAxis],0):t.transform(n.el,0,-t.instance.scroll[t.directionAxis]),n.inView||(n.inView=!0,n.el.style.opacity=1,n.el.style.pointerEvents="all",n.el.setAttribute("data-".concat(t.name,"-section-inview"),""))):((n.inView||e)&&(n.inView=!1,n.el.style.opacity=0,n.el.style.pointerEvents="none",n.el.removeAttribute("data-".concat(t.name,"-section-inview"))),t.transform(n.el,0,0))})),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar){var s=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis];"horizontal"===this.direction?this.transform(this.scrollbarThumb,s,0):this.transform(this.scrollbarThumb,0,s)}d(l(n.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function(t){var e,i=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;e="both"===i?t.deltaX+t.deltaY:"vertical"===i?t.deltaY:"horizontal"===i?t.deltaX:t.deltaY,this.instance.delta[this.directionAxis]-=e*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function(t){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=q(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):this.instance.scroll.y<0?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?"right"!==this.instance.direction&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&"left"!==this.instance.direction&&(this.instance.direction="left")}},{key:"addSpeed",value:function(){this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?this.instance.speed=(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"initScrollBar",value:function(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function(){if(this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(t){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(t){this.isDraggingScrollbar=!1,this.isScrolling&&this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(t){var e=this;this.isDraggingScrollbar&&requestAnimationFrame((function(){var i=100*(t.clientX-e.scrollbarBCR.left)/e.scrollbarWidth*e.instance.limit.x/100,o=100*(t.clientY-e.scrollbarBCR.top)/e.scrollbarHeight*e.instance.limit.y/100;o>0&&o<e.instance.limit.y&&(e.instance.delta.y=o),i>0&&i<e.instance.limit.x&&(e.instance.delta.x=i)}))}},{key:"addElements",value:function(){var t=this;this.els={},this.parallaxElements={},this.el.querySelectorAll("[data-".concat(this.name,"]")).forEach((function(e,i){var o,n,s,r=X(e),l=Object.entries(t.sections).map((function(t){var e=u(t,2);return e[0],e[1]})).find((function(t){return r.includes(t.el)})),a=e.dataset[t.name+"Class"]||t.class,c="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:"el"+i,h=e.dataset[t.name+"Repeat"],d=e.dataset[t.name+"Call"],f=e.dataset[t.name+"Position"],p=e.dataset[t.name+"Delay"],m=e.dataset[t.name+"Direction"],g="string"==typeof e.dataset[t.name+"Sticky"],y=!!e.dataset[t.name+"Speed"]&&parseFloat(e.dataset[t.name+"Speed"])/10,v="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,w=e.dataset[t.name+"Target"],b=(s=void 0!==w?document.querySelector("".concat(w)):e).getBoundingClientRect();null===l||l.inView?(o=b.top+t.instance.scroll.y-F(s).y,n=b.left+t.instance.scroll.x-F(s).x):(o=b.top-F(l.el).y-F(s).y,n=b.left-F(l.el).x-F(s).x);var x=o+s.offsetHeight,S=n+s.offsetWidth,k={x:(S-n)/2+n,y:(x-o)/2+o};if(g){var E=e.getBoundingClientRect(),T=E.top,C=E.left,A={x:C-n,y:T-o};o+=window.innerHeight,n+=window.innerWidth,x=T+s.offsetHeight-e.offsetHeight-A[t.directionAxis],k={x:((S=C+s.offsetWidth-e.offsetWidth-A[t.directionAxis])-n)/2+n,y:(x-o)/2+o}}h="false"!=h&&(null!=h||t.repeat);var M=[0,0];if(v)if("horizontal"===t.direction){for(var O=0;O<v.length;O++)"string"==typeof v[O]?v[O].includes("%")?M[O]=parseInt(v[O].replace("%","")*t.windowWidth/100):M[O]=parseInt(v[O]):M[O]=v[O];n+=M[0],S-=M[1]}else{for(O=0;O<v.length;O++)"string"==typeof v[O]?v[O].includes("%")?M[O]=parseInt(v[O].replace("%","")*t.windowHeight/100):M[O]=parseInt(v[O]):M[O]=v[O];o+=M[0],x-=M[1]}var L={el:e,id:c,class:a,section:l,top:o,middle:k,bottom:x,left:n,right:S,offset:v,progress:0,repeat:h,inView:!1,call:d,speed:y,delay:p,position:f,target:s,direction:m,sticky:g};t.els[c]=L,e.classList.contains(a)&&t.setInView(t.els[c],c),(!1!==y||g)&&(t.parallaxElements[c]=L)}))}},{key:"addSections",value:function(){var t=this;this.sections={};var e=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===e.length&&(e=[this.el]),e.forEach((function(e,i){var o="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:"section"+i,n=e.getBoundingClientRect(),s={x:n.left-1.5*window.innerWidth-F(e).x,y:n.top-1.5*window.innerHeight-F(e).y},r={x:s.x+n.width+2*window.innerWidth,y:s.y+n.height+2*window.innerHeight},l="string"==typeof e.dataset[t.name+"Persistent"];e.setAttribute("data-scroll-section-id",o);var a={el:e,offset:s,limit:r,inView:!1,persistent:l,id:o};t.sections[o]=a}))}},{key:"transform",value:function(t,e,i,o){var n;if(o){var s=F(t),r=q(s.x,e,o),l=q(s.y,i,o);n="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(r,",").concat(l,",0,1)")}else n="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(e,",").concat(i,",0,1)");t.style.webkitTransform=n,t.style.msTransform=n,t.style.transform=n}},{key:"transformElements",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.instance.scroll.x+this.windowWidth,n=this.instance.scroll.y+this.windowHeight,s={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach((function(r){var l=u(r,2),a=(l[0],l[1]),c=!1;if(t&&(c=0),a.inView||i)switch(a.position){case"top":case"left":c=e.instance.scroll[e.directionAxis]*-a.speed;break;case"elementTop":c=(n-a.top)*-a.speed;break;case"bottom":c=(e.instance.limit[e.directionAxis]-n+e.windowHeight)*a.speed;break;case"elementLeft":c=(o-a.left)*-a.speed;break;case"right":c=(e.instance.limit[e.directionAxis]-o+e.windowHeight)*a.speed;break;default:c=(s[e.directionAxis]-a.middle[e.directionAxis])*-a.speed}a.sticky&&(c=a.inView?"horizontal"===e.direction?e.instance.scroll.x-a.left+window.innerWidth:e.instance.scroll.y-a.top+window.innerHeight:"horizontal"===e.direction?e.instance.scroll.x<a.left-window.innerWidth&&e.instance.scroll.x<a.left-window.innerWidth/2?0:e.instance.scroll.x>a.right&&e.instance.scroll.x>a.right+100&&a.right-a.left+window.innerWidth:e.instance.scroll.y<a.top-window.innerHeight&&e.instance.scroll.y<a.top-window.innerHeight/2?0:e.instance.scroll.y>a.bottom&&e.instance.scroll.y>a.bottom+100&&a.bottom-a.top+window.innerHeight),!1!==c&&("horizontal"===a.direction||"horizontal"===e.direction&&"vertical"!==a.direction?e.transform(a.el,c,0,!t&&a.delay):e.transform(a.el,0,c,!t&&a.delay))}))}},{key:"scrollTo",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=parseInt(i.offset)||0,n=isNaN(parseInt(i.duration))?1e3:parseInt(i.duration),s=i.easing||[.25,0,.35,1],r=!!i.disableLerp,l=!!i.callback&&i.callback;if(s=J.apply(void 0,f(s)),"string"==typeof t){if("top"===t)t=0;else if("bottom"===t)t=this.instance.limit.y;else if("left"===t)t=0;else if("right"===t)t=this.instance.limit.x;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");if("number"!=typeof t){if(!X(t).includes(this.el))return;var a,c=t.getBoundingClientRect(),h=c.top,d=c.left,p=X(t).find((function(t){return Object.entries(e.sections).map((function(t){var e=u(t,2);return e[0],e[1]})).find((function(e){return e.el==t}))}));a=p?F(p)[this.directionAxis]:-this.instance.scroll[this.directionAxis],o="horizontal"===this.direction?d+o-a:h+o-a}else o=t+o;var m=parseFloat(this.instance.delta[this.directionAxis]),g=Math.max(0,Math.min(o,this.instance.limit[this.directionAxis]))-m,y=function(t){r?"horizontal"===e.direction?e.setScroll(m+g*t,e.instance.delta.y):e.setScroll(e.instance.delta.x,m+g*t):e.instance.delta[e.directionAxis]=m+g*t};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var v=Date.now();!function t(){var i=(Date.now()-v)/n;i>1?(y(1),e.animatingScroll=!1,0==n&&e.update(),l&&l()):(e.scrollToRaf=requestAnimationFrame(t),y(s(i)))}()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(t,e){this.instance=s(s({},this.instance),{},{scroll:{x:t,y:e},delta:{x:t,y:e},speed:0})}},{key:"destroy",value:function(){d(l(n.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),n}(y);return function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.options=i,Object.assign(this,g,i),this.smartphone=g.smartphone,i.smartphone&&Object.assign(this.smartphone,i.smartphone),this.tablet=g.tablet,i.tablet&&Object.assign(this.tablet,i.tablet),this.smooth||"horizontal"!=this.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return i(e,[{key:"init",value:function(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?this.scroll=new tt(this.options):this.scroll=new x(this.options),this.scroll.init(),window.location.hash){var t=window.location.hash.slice(1,window.location.hash.length),e=document.getElementById(t);e&&this.scroll.scrollTo(e)}}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(t,e){this.scroll.scrollTo(t,e)}},{key:"setScroll",value:function(t,e){this.scroll.setScroll(t,e)}},{key:"on",value:function(t,e){this.scroll.setEvents(t,e)}},{key:"off",value:function(t,e){this.scroll.unsetEvents(t,e)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),e}()})),new LocomotiveScroll({}),function(t){t.fn.shuffleLetters=function(e){var i=t.extend({step:8,fps:25,text:"",callback:function(){}},e);function o(t){for(var e=[],i=0;i<t.childNodes.length;i++){var n=t.childNodes[i];3===n.nodeType?e.push(n):1===n.nodeType&&(e=e.concat(o(n)))}return e}function n(t){var e="";"lowerLetter"==t?e="abcdefghijklmnopqrstuvwxyz0123456789":"upperLetter"==t?e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789":"rusupperLetter"==t?e="АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ":"ruslowerLetter"==t?e="абвгдеёжзийклмнопрстуфхцчшщъыьэюя":"symbol"==t&&(e=",.?/\\(^)![]{}*&^%$#'\"");var i=e.split("");return i[Math.floor(Math.random()*i.length)]}return this.each((function(){var e=t(this);if(e.data("animated"))return!0;e.data("animated",!0);var s=e.html();e.data("originalHtml",s),e.find(".shuffle-wrapper").length||e.html('<span class="shuffle-wrapper">'+s+"</span>");var r=o(e.find(".shuffle-wrapper")[0]),l=[];r.forEach((t=>{for(var e=0;e<t.textContent.length;e++)l.push({node:t,index:e,char:t.textContent[e],type:(i=t.textContent[e]," "===i?"space":/[a-z]/.test(i)?"lowerLetter":/[A-Z]/.test(i)?"upperLetter":/[А-ЯЁ]/.test(i)?"rusupperLetter":/[а-яё]/.test(i)?"ruslowerLetter":"symbol")});var i}));var a=l.reduce(((t,e,i)=>("space"!==e.type&&t.push(i),t)),[]);!function t(o){if(o>a.length)return e.data("animated",!1),e.html(s),void i.callback(e);for(var c=r.map((t=>t.textContent.split(""))),h=Math.max(o,0);h<a.length;h++){var d=l[a[h]];h<o+i.step?c[r.indexOf(d.node)][d.index]=n(d.type):c[r.indexOf(d.node)][d.index]=""}r.forEach(((t,e)=>{t.textContent=c[e].join("")})),setTimeout((function(){t(o+1)}),1e3/i.fps)}(-i.step)}))}}(jQuery),$((function(){const t={heart:[[1,6],[1,5],[1,4],[2,3],[3,2],[4,2],[5,3],[6,4],[7,4],[8,3],[9,2],[10,2],[11,3],[12,4],[12,5],[12,6],[11,7],[10,8],[9,9],[8,10],[7,11],[6,11],[5,10],[4,9],[3,8],[2,7]],sound:[[6,11],[5,10],[4,9],[3,8],[2,8],[1,8],[1,7],[1,6],[1,5],[2,5],[3,5],[4,4],[5,3],[6,2],[6,3],[6,4],[6,5],[6,6],[6,7],[6,8],[6,9],[6,10],[8,9],[9,9],[10,8],[10,7],[10,6],[10,5],[9,4],[8,4],[8,11],[9,11],[10,11],[11,10],[12,9],[12,8],[12,7],[12,6],[12,5],[12,4],[11,3],[10,2],[9,2],[8,2]],glass:[[6,7],[6,6],[7,6],[7,7],[0,6],[0,7],[1,5],[2,4],[3,3],[4,3],[5,2],[6,2],[7,2],[8,2],[9,3],[10,3],[11,4],[12,5],[13,6],[13,7],[12,8],[11,9],[10,10],[9,10],[8,11],[7,11],[6,11],[5,11],[4,10],[3,10],[2,9],[1,8]],cmile:[[1,8],[1,7],[1,6],[1,5],[2,4],[2,3],[3,2],[4,2],[5,1],[6,1],[7,1],[8,1],[9,2],[10,2],[11,3],[11,4],[12,5],[12,6],[12,7],[12,8],[11,9],[11,10],[10,11],[9,11],[8,12],[7,12],[6,12],[5,12],[4,11],[3,11],[2,10],[2,9],[5,6],[5,5],[5,4],[8,6],[8,5],[8,4],[4,8],[5,9],[6,9],[7,9],[8,9],[9,8]],kind:[[8,1],[7,1],[6,1],[5,1],[4,2],[3,2],[2,3],[2,4],[1,5],[1,6],[1,7],[1,8],[2,9],[2,10],[3,11],[4,11],[5,12],[6,12],[7,12],[8,12],[9,11],[10,11],[11,10],[11,9],[12,8],[12,7],[12,6],[12,5],[10,2],[10,3],[11,3],[9,4],[8,5],[7,6],[6,6],[6,7],[7,7],[6,4],[5,4],[4,5],[4,6],[4,7],[4,8],[5,9],[6,9],[7,9],[8,9],[9,8],[9,7]],creative:[[8,1],[7,2],[7,3],[7,4],[7,5],[7,6],[7,7],[6,8],[5,7],[5,6],[5,5],[4,5],[6,5],[4,8],[3,7],[3,6],[3,5],[3,4],[2,3],[1,4],[1,5],[1,6],[1,7],[1,8],[1,9],[2,10],[3,11],[4,12],[5,12],[6,12],[7,12],[8,11],[9,11],[10,10],[11,9],[11,8],[12,7],[12,6],[12,5],[11,5],[10,6],[9,6],[9,7],[9,5],[9,4],[9,3],[9,2]],camera:[[1,2],[2,2],[3,2],[4,2],[5,2],[6,2],[7,2],[8,2],[8,3],[8,4],[8,5],[8,6],[8,7],[8,8],[8,9],[8,10],[8,11],[7,11],[6,11],[5,11],[4,11],[3,11],[2,11],[1,11],[1,10],[1,9],[1,8],[1,7],[1,6],[1,5],[1,4],[1,3],[9,5],[10,4],[11,3],[12,2],[12,3],[12,4],[12,5],[12,6],[12,7],[12,8],[12,9],[12,10],[12,11],[11,10],[10,9],[9,8]],photo:[[1,3],[2,3],[3,3],[4,3],[5,3],[6,3],[7,3],[8,3],[9,3],[10,3],[11,3],[12,3],[12,4],[12,5],[12,6],[12,7],[12,8],[12,9],[12,10],[12,11],[11,11],[10,11],[9,11],[8,11],[7,11],[6,11],[5,11],[4,11],[3,11],[2,11],[1,11],[1,10],[1,9],[1,8],[1,7],[1,6],[1,5],[1,4],[3,2],[4,2],[8,6],[9,6],[10,7],[10,8],[9,9],[8,9],[7,8],[7,7]],arrow:[[1,12],[1,11],[1,10],[2,9],[3,8],[4,7],[5,6],[6,5],[7,4],[8,3],[9,2],[10,1],[12,1],[11,0],[13,2],[12,3],[11,4],[10,5],[9,6],[8,7],[7,8],[6,9],[5,10],[4,11],[3,12],[2,12],[3,10],[10,3]]},e=document.getElementById("interactive-grid"),i=["#442CBF"];for(let i=0;i<14;i++)for(let o=0;o<14;o++){const n=document.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("x",40*o),n.setAttribute("y",40*i),n.setAttribute("width",40),n.setAttribute("height",40),n.setAttribute("stroke","#272727"),n.setAttribute("fill","transparent"),n.classList.add("cell"),Object.keys(t).forEach((e=>{t[e].some((t=>t[0]===o&&t[1]===i))&&n.setAttribute(`data-${e}`,"true")})),e.appendChild(n)}const o=document.querySelector(".services__body-block-titles"),n=Array.from(o.querySelectorAll("h3")),s=document.querySelector(".services__body-block-desc"),r=Array.from(s.querySelectorAll("p"));n.forEach((t=>{t.dataset.originalHtml=t.innerHTML})),gsap.set(n,{autoAlpha:0}),gsap.set(r,{autoAlpha:0}),gsap.ticker.lagSmoothing(0),ScrollTrigger.normalizeScroll(!0);const l=gsap.timeline({scrollTrigger:{id:"services-scroll",trigger:".services",start:"top -5.5%",end:"+="+3.2*Object.keys(t).length*800,scrub:1,pin:!0,onEnter:()=>l.play(),onLeave:()=>l.pause(),onEnterBack:()=>l.play(),onLeaveBack:()=>l.pause(),fastScrollEnd:!0,preventOverlaps:!0}});let a=-1;const c=document.getElementById("number");Object.keys(t).forEach(((t,e)=>{const o=gsap.utils.toArray(`[data-${t}="true"]`),s=n[e],h=n[e-1],d=r[e],u=r[e-1],f=`scene-${e}`;l.addLabel(f),l.set(o,{fill:"transparent"},f),h&&u&&l.to([h,u],{autoAlpha:0,duration:.2,ease:"power1.inOut"},f),l.call((()=>{c.innerText=(e+1).toString().padStart(2,"0")}),null,`${f}+=0`),l.fromTo(c,{y:-10,autoAlpha:0},{y:0,autoAlpha:1,duration:.4,ease:"power2.out"},f),l.to(d,{autoAlpha:1,duration:.3},">"),l.to(s,{autoAlpha:1,duration:.4,ease:"power2.out",onStart:()=>{a!==e&&(a=e,$(s).shuffleLetters({step:5,fps:45,text:s.textContent}))}},`${f}+=0.4`),l.to(o,{fill:i[0],duration:.6,ease:"power2.out",stagger:{each:.025,from:"edges",grid:[14,14]}},`${f}+=0.5`),l.to(o,{fill:"transparent",duration:.2,ease:"power2.in",stagger:{each:.02,from:"center"}},`${f}+=2.0`),l.addPause(`${f}+=3.2`)}))})),document.addEventListener("DOMContentLoaded",(function(){const t=parseFloat(getComputedStyle(document.documentElement).fontSize),e={squareSize:54,gap:0,fillColor:"rgba(244, 244, 244, 0.03)",bgColor:"#000000",fillDuration:.4,delayDuration:.3,clearDuration:.3};function i(e){return e*t}width<=750&&(e.squareSize=20);const o=document.getElementById("grid-canvas-video"),n=o.getContext("2d"),s=document.querySelector(".showreel");let r=[],l=[],a=0;function c(){const t=Math.floor(s.clientWidth),a=Math.floor(s.clientHeight),c=window.devicePixelRatio||1;o.style.width=t+"px",o.style.height=a+"px",o.width=Math.floor(t*c),o.height=Math.floor(a*c),n.scale(c,c);const d=Math.floor(i(e.squareSize)),u=Math.floor(i(e.gap)),f=Math.ceil(t/(d+u)),p=Math.ceil(a/(d+u)),m=f*(d+u),g=p*(d+u),y=Math.max(0,(t-m)/2),v=Math.max(0,(a-g)/2);r=[];for(let t=0;t<p;t++)for(let e=0;e<f;e++){const i=Math.floor(e*(d+u)+y),o=Math.floor(t*(d+u)+v);r.push({x:i,y:o,width:d,height:d,filled:!1})}l=Array.from({length:r.length},((t,e)=>e));for(let t=l.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[l[t],l[e]]=[l[e],l[t]]}h()}function h(){n.clearRect(0,0,o.width,o.height),n.imageSmoothingEnabled=!1,r.forEach((t=>{const i=Math.floor(t.x),o=Math.floor(t.y),s=Math.floor(t.width),r=Math.floor(t.height);n.fillStyle=t.filled?e.fillColor:e.bgColor,n.fillRect(i,o,s,r)}))}c(),function(){const t=new ScrollMagic.Controller,i=e.fillDuration+e.delayDuration+e.clearDuration;new ScrollMagic.Scene({triggerElement:".showreel",duration:200*i+"%",triggerHook:0}).setPin(".showreel").on("progress",(function(t){!function(t){const i=t>a;a=t;const o=e.fillDuration,n=o+e.delayDuration,s=o+e.delayDuration+e.clearDuration;if(i)if(t<=o){const e=t/o,i=Math.floor(e*r.length);for(let t=0;t<i;t++)r[l[t]].filled=!0}else if(t<=n)r.forEach((t=>t.filled=!0));else{const i=(t-n)/e.clearDuration,o=Math.floor(i*r.length);if(t>=.99*s)r.forEach((t=>t.filled=!1));else for(let t=0;t<o;t++)r[l[r.length-1-t]].filled=!1}else if(t>=n){const i=(t-n)/e.clearDuration,o=r.length-Math.floor(i*r.length);for(let t=0;t<o;t++)r[l[t]].filled=!0}else if(t>=o)r.forEach((t=>t.filled=!0));else{const e=t/o,i=r.length-Math.floor(e*r.length);for(let t=0;t<i;t++)r[l[t]].filled=!1}h()}(t.progress)})).addTo(t)}();const d=new ResizeObserver((t=>{for(let e of t)e.target===s&&c()}));d.observe(s),window.addEventListener("beforeunload",(()=>{d.disconnect()}))}));